#{extends 'main.html' /}
#{set title:'XP Workshop' /}
<h2>XP Workshop</h2>
%{
tests = controllers.Application.judgemans
featureMap = controllers.Application.featureMap

featureMap.each { team, feature ->
  out.print("<table border='1'>")
  out.print("<caption>team: $team</caption>")
  tests.eachWithIndex { test ,i ->
    out.print('<tr class="q">')
    out.print("<td>Q${i + 1}</td>")
    question = test.getAnnotation(models.Question.class)
    out.print('<td class="' + controllers.Application.test(test, feature[i]) + '">')
    out.print(question?.value())
    out.print('</td>')
    out.print('</tr>')
  }
  out.print("</table>")
}
}%
